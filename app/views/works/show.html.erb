<!--<h1>Work#show</h1>-->
<!--<p>Find me in app/views/works/show.html.erb</p>-->
<h2>Work: <%= @work.title%></h2>

<div class="edit-delete">
<!--  <p><%#= button_to "Upvote", upvote_work_path(@work.id), method: :post %></p>-->
  <p><%= button_to "Upvote", work_votes_path(@work.id), method: :post %></p>

  <p>Other actions:</p>
  <p><%= link_to "Edit #{@work.title}", edit_work_path(@work.id) %></p>
  <p><%= link_to "Delete #{@work.title}", work_path(@work.id), method: :delete, data:{confirm: 'Please confirm you would like to delete this works.'} %></p>
  <p><%= link_to "Return to Work list", works_path %></p>

</div>

<div class="content">
  <p>Creator: <%= @work.creator %></p>
  <p>Publication Year: <%= @work.publication_year %></p>
  <p>Description: <%= @work.description %></p>
</div>

<table>
  <tr>
    <th>Vote ID</th>
    <th>User ID</th>
    <th>Username</th>

    <% vote_count_for_work = 0 %>

  </tr>
  <% @work.votes.each do |vote| %>

    <tr>
      <td>
        <%= vote.id %>
      </td>
      <td>
        <%= vote.user_id %>
      </td>
      <td>
        <%= vote.user.username %>
      </td>
      <td>
        <%= vote.work.title %>
      </td>
    </tr>
    <% vote_count_for_work += 1 %>
  <%end %>

</table>
<p>Total Number of Votes for <%= @work.title %>: <%=vote_count_for_work %></p>
