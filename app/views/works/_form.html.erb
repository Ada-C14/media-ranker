<!--TODO: need to change this to a flash message instead-->

<div >
  <% if @work.errors.any? %>
    <p> A problem occurred: Could not <%= "#{action_name} #{@work.category}" %></p>
    <ul >
      <% @work.errors.each do |column, message| %>
        <li>
          <strong><%= column.capitalize %></strong> <%= message %>
        </li>
      <% end %>
    </ul>
  <% end %>
</div>

<%= form_with model: @work do |f| %>
  <section>
    <div class="form-group">
      <%= f.label :category %>
<!--      Might have to change this-->
      <%= f.select :category,
                   options_for_select(%w[album book movie]),
                   # this is needed for the format?
                   {},
                   {class:"form-control"} %>
    </div>
    <div class="form-group">
      <%= f.label :title %>
      <%= f.text_field :title, class:"form-control" %>
    </div>
    <div class="form-group">
      <%= f.label :creator %>
      <%= f.text_field :creator, class:"form-control" %>
    </div>
    <div class="form-group">
      <%= f.label :publication_year %>
      <%= f.text_field :publication_year, class:"form-control"%>
    </div>
    <div class="form-group">
      <%= f.label :description %>
      <%= f.text_area :description, class:"form-control"%>
    </div>
    <div class="form-group">
      <%= f.submit "#{action_name.capitalize} Work", class: "btn btn-primary" %>
    </div>
  </section>
<% end %>