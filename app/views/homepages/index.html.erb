<main class="homepage">
  <section class="spotlight">
    <% top_work = Work.spotlight %>
    <h2 class="spotlight__header">
      <span class="spotlight__header--prefix">
        Media Spotlight:
      </span>
      <% if top_work %>
        <%= link_to top_work.title, work_path(top_work.id), class: "spotlight__link-to" %> by <%= top_work.creator %>
      <% end %>
    </h2>
      <p><%= top_work ? top_work.votes.length : 0 %> votes - <%= top_work ? top_work.description : "N/A" %></p>
  </section>
  <hr class="root__hr">
  <section class="top-ten__container">
    <section class="top-ten__list-container">
      <h2 class="top-ten__header">Top Movies</h2>
      <ul class="list-group top-ten__list">
        <% Work.top_ten("movie").each do |movie| %>
          <li class="list-group-item">
            <% if movie %>
              <h4><%= link_to movie.title, work_path(movie.id) %> <small class="top-ten__creator">by <%= movie.creator %></small></h4>
              <p><%= movie.votes.length %> votes</p>
            <% end %>
          </li>
        <% end %>
      </ul>
    </section>
    <section class="top-ten__list-container">
      <h2 class="top-ten__header">Top Books</h2>
      <ul class="list-group top-ten__list">
        <% Work.top_ten("book").each do |book| %>
          <li class="list-group-item">
            <% if book %>
              <h4><%= link_to book.title, work_path(book.id) %> <small class="top-ten__creator">by <%= book.creator %></small></h4>
              <p><%= book.votes.length %> votes</p>
            <% end %>
          </li>
        <% end %>
      </ul>
    </section>
    <section class="top-ten__list-container">
      <h2 class="top-ten__header">Top Albums</h2>
      <ul class="list-group top-ten__list">
        <% Work.top_ten("album").each do |album| %>
          <li class="list-group-item">
            <% if album %>
              <h4><%= link_to album.title, work_path(album.id) %> <small class="top-ten__creator">by <%= album.creator %></small></h4>
              <p><%= album.votes.length %> votes</p>
            <% end %>
          </li>
        <% end %>
      </ul>
    </section>
  </section>
</main>
