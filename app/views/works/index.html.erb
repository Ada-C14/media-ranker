<% @work = Work.all %>
<% @movies = @work.where(category: "movie") %>
<% @books = @work.where(category: "book") %>
<% @albums = @work.where(category: "album") %>

<h1>List of Works</h1>
<h4>Albums</h4>

<table class="table">
  <thead>
  <tr>
    <th scope="col">Votes</th>
    <th scope="col">Title</th>
    <th scope="col">Created By</th>
    <th scope="col">Published</th>
    <th scope="col">Upvote</th>
  </tr>
  </thead>
  <tbody>
  <% @albums.each do |album|  %>
  <tr>
    <td>1</td>
    <td><%= link_to album.title, work_path(album.id)  %></td>
    <td><%=  album.creator %></td>
    <td><%=  album.publication_year %></td>
    <td>Coming soon!</td>
  <% end %>
  </tbody>
</table>

<h4>Books</h4>

<table class="table">
  <thead>
  <tr>
    <th scope="col">Votes</th>
    <th scope="col">Title</th>
    <th scope="col">Created By</th>
    <th scope="col">Published</th>
    <th scope="col">Upvote</th>
  </tr>
  </thead>
  <tbody>
  <% @books.each do |book|  %>
    <tr>
      <td>1</td>
      <td><%= link_to book.title, work_path(book.id)%></td>
      <td><%=  book.creator %></td>
      <td><%=  book.publication_year %></td>
      <td>Coming soon!</td>
  <% end %>
  </tbody>
</table>

<h4>Movies</h4>

<table class="table">
  <thead>
  <tr>
    <th scope="col">Votes</th>
    <th scope="col">Title</th>
    <th scope="col">Created By</th>
    <th scope="col">Published</th>
    <th scope="col">Upvote</th>
  </tr>
  </thead>
  <tbody>
  <% @movies.each do |movie|  %>
    <tr>
      <td>1</td>
      <td><%= link_to movie.title, work_path(movie.id)%></td>
      <td><%=  movie.creator %></td>
      <td><%=  movie.publication_year %></td>
      <td>Coming soon!</td>
  <% end %>
  </tbody>
</table>
